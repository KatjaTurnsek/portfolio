import{B as E}from"./index-Bl274wWD.js";(function(){typeof window<"u"&&(window.__routerActive=!0),document.documentElement.classList.add("js-ready");const L="is-active",u=E,y=E.replace(/\/$/,""),h={"/":"home","/work":"work","/about":"about","/contact":"contact"},g=Object.fromEntries(Object.entries(h).map(([e,t])=>[t,e])),k=(e,t=document)=>Array.from(t.querySelectorAll(e)),B=()=>k(".fullscreen-section");function a(e){let t=e;return t.startsWith(u)?t="/"+t.slice(u.length):t.startsWith(y)&&(t="/"+t.slice(y.length)),t.startsWith("/")||(t="/"+t),t.length>1&&t.endsWith("/")&&(t=t.slice(0,-1)),t}function p(e){if(e in h)return h[e];if(e.startsWith("/work/")){const n=e.split("/").filter(Boolean),o=n[1],i=n[2];if(!o)return null;const r="case-"+o+(i?"-"+i:"");if(document.getElementById(r))return r}const t=e.slice(1);return t&&document.getElementById(t)?t:null}function w(e){if(e in g)return g[e];if(e.startsWith("case-")){const t=e.slice(5),n=t.indexOf("-");if(n===-1)return"/work/"+t;const o=t.slice(0,n),i=t.slice(n+1);return"/work/"+o+"/"+i}return"/"}function S(e){B().forEach(t=>{const n=t.id===e;t.classList.toggle("visible",n),t.style.display=n?"block":"none",t.style.visibility=n?"visible":"hidden",t.style.pointerEvents=n?"auto":"none",t.style.transform="none",t.style.opacity=n?"1":"0"})}function b(e){if(!e)return;const t=e.getAttribute("data-title");t&&(document.title=t);const n=e.getAttribute("data-description"),o=document.querySelector('meta[name="description"]');n&&o&&o.setAttribute("content",n);const i=document.querySelector('link[rel="canonical"]');i&&i.setAttribute("href",location.origin+u+w(e.id).replace(/^\//,""))}function v(e){const t=w(e)||a(location.pathname);document.querySelectorAll("nav a").forEach(n=>{let o=!1;try{const i=n.getAttribute("href")||"",r=new URL(i,location.href);o=a(r.pathname)===t}catch{}n.classList.toggle(L,o)})}function I(e,t){const o=(t&&document.getElementById(t)?t:null)||p(e)||h["/"],i=document.getElementById(o);if(!i)return;window.__currentSectionId=o,S(o),b(i),v(o);const r=w(o);history.replaceState({path:r},"",u+r.replace(/^\//,"")),typeof window.revealSection=="function"&&window.revealSection(o)}function m(e,{replace:t=!1}={}){const n=p(e)||h["/"];window.__currentSectionId=n,S(n);const o=document.getElementById(n);if(o){window.scrollTo({top:0,behavior:"auto"});const s=o.querySelector('h1, h2, h3, [role="heading"]');s&&!s.hasAttribute("tabindex")&&s.setAttribute("tabindex","-1"),s&&setTimeout(()=>{var c;return(c=s.focus)==null?void 0:c.call(s)},50),b(o),v(n),typeof window.revealSection=="function"&&window.revealSection(n)}const i={path:e},r=u+e.replace(/^\//,"");t?history.replaceState(i,"",r):history.pushState(i,"",r)}function _(e){const t=location.href,n=()=>window.removeEventListener("popstate",n);window.addEventListener("popstate",n,{once:!0}),history.back(),setTimeout(()=>{if(location.href===t){const o=new URL(e,location.origin),i=a(o.pathname);p(i)?m(i):location.assign(e)}},250)}function T(e){const t=e.target instanceof Element?e.target.closest("a,button"):null;if(!t)return;if(t.hasAttribute("data-back")){e.preventDefault(),_(t instanceof HTMLAnchorElement?t.href:"/");return}if(!(t instanceof HTMLAnchorElement)||t.target&&t.target!=="_self"||e.button!==0||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey)return;const n=t.getAttribute("href")||"",o=(t.getAttribute("rel")||"").includes("external"),i=t.classList.contains("no-router"),r=t.hasAttribute("download"),s=/\.[a-z0-9]{2,8}(\?|#|$)/i.test(n);if(o||i||r||s)return;let c;try{c=new URL(n,location.href)}catch{return}if(c.origin!==location.origin)return;const d=c.pathname,l=a(d),f=c.hash?c.hash.slice(1):null,P=d.startsWith(u+"assets/"),R=/\.[a-z0-9]{2,8}$/i.test(d);if(P||R)return;if(f&&document.getElementById(f)){e.preventDefault(),m(w(f),{replace:!1});return}p(l)&&(e.preventDefault(),m(l))}function F(){const e=a(location.pathname);m(e,{replace:!0})}function A(){"scrollRestoration"in history&&(history.scrollRestoration="manual");const e=a(location.pathname),t=location.hash?location.hash.slice(1):null;I(e,t),document.addEventListener("click",T,{passive:!1}),window.addEventListener("popstate",F),window.addEventListener("pageshow",n=>{var r,s;const o=(s=(r=performance.getEntriesByType)==null?void 0:r.call(performance,"navigation"))==null?void 0:s[0];if(n.persisted||o&&o.type==="back_forward"){const c=a(location.pathname);requestAnimationFrame(()=>{var l,f;m(c,{replace:!0}),(f=(l=window.ScrollTrigger)==null?void 0:l.refresh)==null||f.call(l);const d=window.__currentSectionId;d&&typeof window.revealSection=="function"&&window.revealSection(d)})}})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",A):A()})();
