(function(){var E,v;typeof window<"u"&&(window.__routerActive=!0);const k="is-active",m=(window.__BASE_URL__||((v=(E=import.meta)==null?void 0:E.env)==null?void 0:v.BASE_URL)||"/").replace(/\/?$/,""),a=m+"/",u={"/":"home","/work":"work","/about":"about","/contact":"contact"},y=Object.fromEntries(Object.entries(u).map(([e,t])=>[t,e])),B=(e,t=document)=>Array.from(t.querySelectorAll(e)),_=()=>B(".fullscreen-section");function l(e){let t=e;return t.startsWith(a)?t="/"+t.slice(a.length):t.startsWith(m)&&(t="/"+t.slice(m.length)),t.startsWith("/")||(t="/"+t),t.length>1&&t.endsWith("/")&&(t=t.slice(0,-1)),t}function f(e){if(e in u)return u[e];if(e.startsWith("/work/")){const n=e.split("/").filter(Boolean),o=n[1],i=n[2];if(!o)return null;const s="case-"+o+(i?"-"+i:"");if(document.getElementById(s))return s}const t=e.slice(1);return t&&document.getElementById(t)?t:null}function d(e){if(e in y)return y[e];if(e.startsWith("case-")){const t=e.slice(5),n=t.indexOf("-");if(n===-1)return"/work/"+t;const o=t.slice(0,n),i=t.slice(n+1);return"/work/"+o+"/"+i}return"/"}function A(e){_().forEach(t=>{const n=t.id===e;t.classList.toggle("visible",n),t.style.display=n?"block":"none",t.style.visibility=n?"visible":"hidden",t.style.pointerEvents=n?"auto":"none",t.style.transform="none",t.style.opacity=n?"1":"0"})}function g(e){if(!e)return;const t=e.getAttribute("data-title");t&&(document.title=t);const n=e.getAttribute("data-description"),o=document.querySelector('meta[name="description"]');n&&o&&o.setAttribute("content",n);const i=document.querySelector('link[rel="canonical"]');i&&i.setAttribute("href",location.origin+a+d(e.id).replace(/^\//,""))}function b(e){const t=d(e)||l(location.pathname);document.querySelectorAll("nav a").forEach(n=>{let o=!1;try{const i=n.getAttribute("href")||"",s=new URL(i,location.href);o=l(s.pathname)===t}catch{}n.classList.toggle(k,o)})}function I(e,t){const o=(t&&document.getElementById(t)?t:null)||f(e)||u["/"],i=document.getElementById(o);if(!i)return;window.__currentSectionId=o,A(o),g(i),b(o);const s=d(o);history.replaceState({path:s},"",a+s.replace(/^\//,"")),typeof window.revealSection=="function"&&window.revealSection(o)}function h(e,{replace:t=!1}={}){const n=f(e)||u["/"];window.__currentSectionId=n,A(n);const o=document.getElementById(n);if(o){window.scrollTo({top:0,behavior:"auto"});const c=o.querySelector('h1, h2, h3, [role="heading"]');c&&!c.hasAttribute("tabindex")&&c.setAttribute("tabindex","-1"),c&&setTimeout(()=>{var r;return(r=c.focus)==null?void 0:r.call(c)},50),g(o),b(n),typeof window.revealSection=="function"&&window.revealSection(n)}const i={path:e},s=a+e.replace(/^\//,"");t?history.replaceState(i,"",s):history.pushState(i,"",s)}function R(e){const t=location.href,n=()=>window.removeEventListener("popstate",n);window.addEventListener("popstate",n,{once:!0}),history.back(),setTimeout(()=>{if(location.href===t){const o=new URL(e,location.origin),i=l(o.pathname);f(i)?h(i):location.assign(e)}},250)}function T(e){const t=e.target instanceof Element?e.target.closest("a,button"):null;if(!t)return;if(t.hasAttribute("data-back")){e.preventDefault(),R(t instanceof HTMLAnchorElement?t.href:"/");return}if(!(t instanceof HTMLAnchorElement)||t.target&&t.target!=="_self"||e.button!==0||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey)return;const n=t.getAttribute("href")||"",o=(t.getAttribute("rel")||"").includes("external"),i=t.classList.contains("no-router"),s=t.hasAttribute("download"),c=/\.[a-z0-9]{2,8}(\?|#|$)/i.test(n);if(o||i||s||c)return;let r;try{r=new URL(n,location.href)}catch{return}if(r.origin!==location.origin)return;const p=r.pathname,L=l(p),w=r.hash?r.hash.slice(1):null,P=p.startsWith(a+"assets/"),x=/\.[a-z0-9]{2,8}$/i.test(p);if(P||x)return;if(w&&document.getElementById(w)){e.preventDefault(),h(d(w));return}f(L)&&(e.preventDefault(),h(L))}function W(){const e=l(location.pathname);h(e,{replace:!0})}function S(){const e=l(location.pathname),t=location.hash?location.hash.slice(1):null;I(e,t),document.addEventListener("click",T,{passive:!1}),window.addEventListener("popstate",W)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",S):S()})();
