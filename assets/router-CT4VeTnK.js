(function(){var S,E;typeof window<"u"&&(window.__routerActive=!0);const L="is-active",m=(window.__BASE_URL__||((E=(S=import.meta)==null?void 0:S.env)==null?void 0:E.BASE_URL)||"/").replace(/\/?$/,""),l=m+"/",u={"/":"home","/work":"work","/about":"about","/contact":"contact"},w=Object.fromEntries(Object.entries(u).map(([e,t])=>[t,e])),_=(e,t=document)=>Array.from(t.querySelectorAll(e)),k=()=>_(".fullscreen-section");function a(e){let t=e;return t.startsWith(l)?t="/"+t.slice(l.length):t.startsWith(m)&&(t="/"+t.slice(m.length)),t.startsWith("/")||(t="/"+t),t.length>1&&t.endsWith("/")&&(t=t.slice(0,-1)),t}function f(e){if(e in u)return u[e];if(e.startsWith("/work/")){const n=e.split("/").filter(Boolean),o=n[1],i=n[2];if(!o)return null;const c="case-"+o+(i?"-"+i:"");if(document.getElementById(c))return c}const t=e.slice(1);return t&&document.getElementById(t)?t:null}function d(e){if(e in w)return w[e];if(e.startsWith("case-")){const t=e.slice(5),n=t.indexOf("-");if(n===-1)return"/work/"+t;const o=t.slice(0,n),i=t.slice(n+1);return"/work/"+o+"/"+i}return"/"}function y(e){k().forEach(t=>{const n=t.id===e;t.classList.toggle("visible",n),t.style.display=n?"block":"none",t.style.visibility=n?"visible":"hidden",t.style.pointerEvents=n?"auto":"none",t.style.transform="none",t.style.opacity=n?"1":"0"})}function g(e){if(!e)return;const t=e.getAttribute("data-title");t&&(document.title=t);const n=e.getAttribute("data-description"),o=document.querySelector('meta[name="description"]');n&&o&&o.setAttribute("content",n);const i=document.querySelector('link[rel="canonical"]');i&&i.setAttribute("href",location.origin+l+d(e.id).replace(/^\//,""))}function A(e){const t=d(e)||a(location.pathname);document.querySelectorAll("nav a").forEach(n=>{let o=!1;try{const i=n.getAttribute("href")||"",c=new URL(i,location.href);o=a(c.pathname)===t}catch{}n.classList.toggle(L,o)})}function B(e,t){const o=(t&&document.getElementById(t)?t:null)||f(e)||u["/"],i=document.getElementById(o);if(!i)return;window.__currentSectionId=o,y(o),g(i),A(o);const c=d(o);history.replaceState({path:c},"",l+c.replace(/^\//,"")),typeof window.revealSection=="function"&&window.revealSection(o)}function h(e,{replace:t=!1}={}){const n=f(e)||u["/"];window.__currentSectionId=n,y(n);const o=document.getElementById(n);if(o){window.scrollTo({top:0,behavior:"auto"});const r=o.querySelector('h1, h2, h3, [role="heading"]');r&&!r.hasAttribute("tabindex")&&r.setAttribute("tabindex","-1"),r&&setTimeout(()=>{var s;return(s=r.focus)==null?void 0:s.call(r)},50),g(o),A(n),typeof window.revealSection=="function"&&window.revealSection(n)}const i={path:e},c=l+e.replace(/^\//,"");t?history.replaceState(i,"",c):history.pushState(i,"",c)}function I(e){const t=location.href,n=()=>window.removeEventListener("popstate",n);window.addEventListener("popstate",n,{once:!0}),history.back(),setTimeout(()=>{if(location.href===t){const o=new URL(e,location.origin),i=a(o.pathname);f(i)?h(i):location.assign(e)}},250)}function R(e){const t=e.target instanceof Element?e.target.closest("a,button"):null;if(!t)return;if(t.hasAttribute("data-back")){e.preventDefault(),I(t instanceof HTMLAnchorElement?t.href:"/");return}if(!(t instanceof HTMLAnchorElement)||t.target&&t.target!=="_self"||e.button!==0||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey)return;const n=t.getAttribute("href")||"",o=(t.getAttribute("rel")||"").includes("external"),i=t.classList.contains("no-router"),c=t.hasAttribute("download"),r=/\.pdf(\?|$)/i.test(n);if(o||i||c||r)return;let s;try{s=new URL(n,location.href)}catch{return}if(s.origin!==location.origin)return;const v=a(s.pathname),p=s.hash?s.hash.slice(1):null;if(p&&document.getElementById(p)){e.preventDefault(),h(d(p));return}f(v)&&(e.preventDefault(),h(v))}function T(){const e=a(location.pathname);h(e,{replace:!0})}function b(){const e=a(location.pathname),t=location.hash?location.hash.slice(1):null;B(e,t),document.addEventListener("click",R,{passive:!1}),window.addEventListener("popstate",T)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",b):b()})();
