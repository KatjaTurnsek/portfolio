(function(){var S,A;typeof window<"u"&&(window.__routerActive=!0);const v="is-active",h=(window.__BASE_URL__||((A=(S=import.meta)==null?void 0:S.env)==null?void 0:A.BASE_URL)||"/").replace(/\/?$/,""),a=h+"/",l={"/":"home","/work":"work","/about":"about","/contact":"contact"},m=Object.fromEntries(Object.entries(l).map(([e,t])=>[t,e])),E=(e,t=document)=>Array.from(t.querySelectorAll(e)),L=()=>E(".fullscreen-section");function s(e){let t=e;return t.startsWith(a)?t="/"+t.slice(a.length):t.startsWith(h)&&(t="/"+t.slice(h.length)),t.startsWith("/")||(t="/"+t),t.length>1&&t.endsWith("/")&&(t=t.slice(0,-1)),t}function u(e){if(e in l)return l[e];if(e.startsWith("/work/")){const n=e.split("/").filter(Boolean),o=n[1],i=n[2];if(!o)return null;const c="case-"+o+(i?"-"+i:"");if(document.getElementById(c))return c}const t=e.slice(1);return t&&document.getElementById(t)?t:null}function f(e){if(e in m)return m[e];if(e.startsWith("case-")){const t=e.slice(5),n=t.indexOf("-");if(n===-1)return"/work/"+t;const o=t.slice(0,n),i=t.slice(n+1);return"/work/"+o+"/"+i}return"/"}function p(e){L().forEach(t=>{const n=t.id===e;t.classList.toggle("visible",n),t.style.display=n?"block":"none",t.style.visibility=n?"visible":"hidden",t.style.pointerEvents=n?"auto":"none",t.style.transform="none",t.style.opacity=n?"1":"0"})}function w(e){if(!e)return;const t=e.getAttribute("data-title");t&&(document.title=t);const n=e.getAttribute("data-description"),o=document.querySelector('meta[name="description"]');n&&o&&o.setAttribute("content",n);const i=document.querySelector('link[rel="canonical"]');i&&i.setAttribute("href",location.origin+a+f(e.id).replace(/^\//,""))}function y(e){const t=f(e)||s(location.pathname);document.querySelectorAll("nav a").forEach(n=>{let o=!1;try{const i=n.getAttribute("href")||"",c=new URL(i,location.href);o=s(c.pathname)===t}catch{}n.classList.toggle(v,o)})}function _(e,t){const o=(t&&document.getElementById(t)?t:null)||u(e)||l["/"],i=document.getElementById(o);if(!i)return;window.__currentSectionId=o,p(o),w(i),y(o);const c=f(o);history.replaceState({path:c},"",a+c.replace(/^\//,"")),typeof window.revealSection=="function"&&window.revealSection(o)}function d(e,{replace:t=!1}={}){const n=u(e)||l["/"];window.__currentSectionId=n,p(n);const o=document.getElementById(n);if(o){window.scrollTo({top:0,behavior:"auto"});const r=o.querySelector('h1, h2, h3, [role="heading"]');r&&!r.hasAttribute("tabindex")&&r.setAttribute("tabindex","-1"),r&&setTimeout(()=>{var b;return(b=r.focus)==null?void 0:b.call(r)},50),w(o),y(n),typeof window.revealSection=="function"&&window.revealSection(n)}const i={path:e},c=a+e.replace(/^\//,"");t?history.replaceState(i,"",c):history.pushState(i,"",c)}function B(e){const t=location.href,n=()=>window.removeEventListener("popstate",n);window.addEventListener("popstate",n,{once:!0}),history.back(),setTimeout(()=>{if(location.href===t){const o=new URL(e,location.origin),i=s(o.pathname);u(i)?d(i):location.assign(e)}},250)}function k(e){const t=e.target instanceof Element?e.target.closest("a,button"):null;if(!t)return;if(t.hasAttribute("data-back")){e.preventDefault(),B(t instanceof HTMLAnchorElement?t.href:"/");return}if(!(t instanceof HTMLAnchorElement)||t.target&&t.target!=="_self"||e.button!==0||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey)return;let n;try{n=new URL(t.getAttribute("href")||"",location.href)}catch{return}if(n.origin!==location.origin)return;const o=s(n.pathname),i=n.hash?n.hash.slice(1):null;if(i&&document.getElementById(i)){e.preventDefault(),d(f(i));return}u(o)&&(e.preventDefault(),d(o))}function I(){const e=s(location.pathname);d(e,{replace:!0})}function g(){const e=s(location.pathname),t=location.hash?location.hash.slice(1):null;_(e,t),document.addEventListener("click",k,{passive:!1}),window.addEventListener("popstate",I)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",g):g()})();
