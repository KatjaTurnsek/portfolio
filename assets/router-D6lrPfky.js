import{B as I}from"./index-Dd_Sl9Mt.js";(function(){typeof window<"u"&&(window.__routerActive=!0),document.documentElement.classList.add("js-ready");const P="is-active",l=I,w=I.replace(/\/$/,""),u={"/":"home","/work":"work","/about":"about","/contact":"contact"},g=Object.fromEntries(Object.entries(u).map(([t,e])=>[e,t])),_=(t,e=document)=>Array.from(e.querySelectorAll(t)),S=()=>_(".fullscreen-section"),v=/\.[a-z0-9]{2,8}(\?|#|$)/i;function a(t){let e=t||"/";return e.startsWith(l)?e="/"+e.slice(l.length):e.startsWith(w)&&(e="/"+e.slice(w.length)),e.startsWith("/")||(e="/"+e),e.length>1&&e.endsWith("/")&&(e=e.slice(0,-1)),e}function f(t){if(t in u)return u[t];if(t.startsWith("/work/")){const n=t.split("/").filter(Boolean),o=n[1],i=n[2];if(!o)return null;const r="case-"+o+(i?"-"+i:"");if(document.getElementById(r))return r}const e=t.slice(1);return e&&document.getElementById(e)?e:null}function h(t){if(t in g)return g[t];if(t.startsWith("case-")){const e=t.slice(5),n=e.indexOf("-");if(n===-1)return"/work/"+e;const o=e.slice(0,n),i=e.slice(n+1);return"/work/"+o+"/"+i}return"/"}function b(){S().forEach(t=>{t.style.removeProperty("display"),t.style.removeProperty("visibility"),t.style.removeProperty("pointer-events"),t.style.removeProperty("transform"),t.style.removeProperty("opacity")})}function A(t){b(),S().forEach(e=>e.classList.toggle("visible",e.id===t))}function E(t){if(!t)return;const e=t.getAttribute("data-title");e&&(document.title=e);const n=t.getAttribute("data-description"),o=document.querySelector('meta[name="description"]');n&&o&&o.setAttribute("content",n);const i=document.querySelector('link[rel="canonical"]');if(i){const r=h(t.id).replace(/^\//,"");i.setAttribute("href",location.origin+l+r)}}function L(t){const e=h(t)||a(location.pathname);document.querySelectorAll("nav a").forEach(n=>{let o=!1;try{const i=n.getAttribute("href")||"",r=new URL(i,location.href);o=a(r.pathname)===e}catch{}n.classList.toggle(P,o),n.setAttribute("aria-current",o?"page":"false")})}function T(t,e){const o=(e&&document.getElementById(e)?e:null)||f(t)||u["/"],i=document.getElementById(o);if(!i)return;window.__currentSectionId=o,A(o),E(i),L(o);const r=h(o);history.replaceState({path:r},"",l+r.replace(/^\//,"")),typeof window.revealSection=="function"&&window.revealSection(o)}function d(t,{replace:e=!1}={}){const n=f(t)||u["/"];window.__currentSectionId=n,A(n);const o=document.getElementById(n);if(o){window.scrollTo({top:0,behavior:"auto"});const s=o.querySelector('h1, h2, h3, [role="heading"]');s&&!s.hasAttribute("tabindex")&&s.setAttribute("tabindex","-1"),s&&setTimeout(()=>{var c;return(c=s.focus)==null?void 0:c.call(s)},50),E(o),L(n),typeof window.revealSection=="function"&&window.revealSection(n)}const i={path:t},r=l+t.replace(/^\//,"");e?history.replaceState(i,"",r):history.pushState(i,"",r)}function R(t){const e=location.href,n=()=>window.removeEventListener("popstate",n);window.addEventListener("popstate",n,{once:!0}),history.back(),setTimeout(()=>{if(location.href===e){const o=new URL(t,location.origin),i=a(o.pathname);f(i)?d(i):location.assign(t)}},250)}function W(t){const e=t.target instanceof Element?t.target.closest("a,button"):null;if(!e)return;if(e.hasAttribute("data-back")){t.preventDefault(),R(e instanceof HTMLAnchorElement?e.href:"/");return}if(!(e instanceof HTMLAnchorElement)||e.target&&e.target!=="_self"||t.button!==0||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey)return;const n=e.getAttribute("href")||"";if(!n||n.startsWith("mailto:")||n.startsWith("tel:"))return;const o=(e.getAttribute("rel")||"").includes("external"),i=e.classList.contains("no-router")||e.hasAttribute("data-router-ignore"),r=e.hasAttribute("download"),s=v.test(n);if(o||i||r||s)return;let c;try{c=new URL(n,location.href)}catch{return}if(c.origin!==location.origin)return;const p=c.pathname,B=a(p),y=c.hash?c.hash.slice(1):null,x=p.startsWith(l+"assets/"),C=v.test(p);if(x||C)return;if(y&&document.getElementById(y)){t.preventDefault(),d(h(y),{replace:!1});return}f(B)&&(t.preventDefault(),d(B))}function q(){const t=a(location.pathname);d(t,{replace:!0})}function m(){const t=document.querySelector(".fullscreen-section.visible");if(!t||getComputedStyle(t).display==="none"||getComputedStyle(t).visibility==="hidden"||t.style.opacity==="0"){const n=a(location.pathname);requestAnimationFrame(()=>d(n,{replace:!0}))}}function k(){"scrollRestoration"in history&&(history.scrollRestoration="manual"),b();const t=a(location.pathname),e=location.hash?location.hash.slice(1):null;T(t,e),document.addEventListener("click",W,{passive:!1}),window.addEventListener("popstate",q),window.addEventListener("pageshow",()=>{m(),setTimeout(m,60)}),document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&m()})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",k):k()})();
