import{B as E}from"./index-3cgsVm1D.js";(function(){typeof window<"u"&&(window.__routerActive=!0),document.documentElement.classList.add("js-ready");const L="is-active",l=E,y=E.replace(/\/$/,""),u={"/":"home","/work":"work","/about":"about","/contact":"contact"},w=Object.fromEntries(Object.entries(u).map(([e,t])=>[t,e])),k=(e,t=document)=>Array.from(t.querySelectorAll(e)),B=()=>k(".fullscreen-section");function a(e){let t=e;return t.startsWith(l)?t="/"+t.slice(l.length):t.startsWith(y)&&(t="/"+t.slice(y.length)),t.startsWith("/")||(t="/"+t),t.length>1&&t.endsWith("/")&&(t=t.slice(0,-1)),t}function f(e){if(e in u)return u[e];if(e.startsWith("/work/")){const n=e.split("/").filter(Boolean),o=n[1],i=n[2];if(!o)return null;const s="case-"+o+(i?"-"+i:"");if(document.getElementById(s))return s}const t=e.slice(1);return t&&document.getElementById(t)?t:null}function h(e){if(e in w)return w[e];if(e.startsWith("case-")){const t=e.slice(5),n=t.indexOf("-");if(n===-1)return"/work/"+t;const o=t.slice(0,n),i=t.slice(n+1);return"/work/"+o+"/"+i}return"/"}function g(e){B().forEach(t=>{const n=t.id===e;t.classList.toggle("visible",n),t.style.display=n?"block":"none",t.style.visibility=n?"visible":"hidden",t.style.pointerEvents=n?"auto":"none",t.style.transform="none",t.style.opacity=n?"1":"0"})}function b(e){if(!e)return;const t=e.getAttribute("data-title");t&&(document.title=t);const n=e.getAttribute("data-description"),o=document.querySelector('meta[name="description"]');n&&o&&o.setAttribute("content",n);const i=document.querySelector('link[rel="canonical"]');i&&i.setAttribute("href",location.origin+l+h(e.id).replace(/^\//,""))}function S(e){const t=h(e)||a(location.pathname);document.querySelectorAll("nav a").forEach(n=>{let o=!1;try{const i=n.getAttribute("href")||"",s=new URL(i,location.href);o=a(s.pathname)===t}catch{}n.classList.toggle(L,o)})}function I(e,t){const o=(t&&document.getElementById(t)?t:null)||f(e)||u["/"],i=document.getElementById(o);if(!i)return;window.__currentSectionId=o,g(o),b(i),S(o);const s=h(o);history.replaceState({path:s},"",l+s.replace(/^\//,"")),typeof window.revealSection=="function"&&window.revealSection(o)}function d(e,{replace:t=!1}={}){const n=f(e)||u["/"];window.__currentSectionId=n,g(n);const o=document.getElementById(n);if(o){window.scrollTo({top:0,behavior:"auto"});const c=o.querySelector('h1, h2, h3, [role="heading"]');c&&!c.hasAttribute("tabindex")&&c.setAttribute("tabindex","-1"),c&&setTimeout(()=>{var r;return(r=c.focus)==null?void 0:r.call(c)},50),b(o),S(n),typeof window.revealSection=="function"&&window.revealSection(n)}const i={path:e},s=l+e.replace(/^\//,"");t?history.replaceState(i,"",s):history.pushState(i,"",s)}function T(e){const t=location.href,n=()=>window.removeEventListener("popstate",n);window.addEventListener("popstate",n,{once:!0}),history.back(),setTimeout(()=>{if(location.href===t){const o=new URL(e,location.origin),i=a(o.pathname);f(i)?d(i):location.assign(e)}},250)}function _(e){const t=e.target instanceof Element?e.target.closest("a,button"):null;if(!t)return;if(t.hasAttribute("data-back")){e.preventDefault(),T(t instanceof HTMLAnchorElement?t.href:"/");return}if(!(t instanceof HTMLAnchorElement)||t.target&&t.target!=="_self"||e.button!==0||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey)return;const n=t.getAttribute("href")||"",o=(t.getAttribute("rel")||"").includes("external"),i=t.classList.contains("no-router"),s=t.hasAttribute("download"),c=/\.[a-z0-9]{2,8}(\?|#|$)/i.test(n);if(o||i||s||c)return;let r;try{r=new URL(n,location.href)}catch{return}if(r.origin!==location.origin)return;const m=r.pathname,A=a(m),p=r.hash?r.hash.slice(1):null,R=m.startsWith(l+"assets/"),q=/\.[a-z0-9]{2,8}$/i.test(m);if(R||q)return;if(p&&document.getElementById(p)){e.preventDefault(),d(h(p),{replace:!1});return}f(A)&&(e.preventDefault(),d(A))}function P(){const e=a(location.pathname);d(e,{replace:!0})}function v(){"scrollRestoration"in history&&(history.scrollRestoration="manual");const e=a(location.pathname),t=location.hash?location.hash.slice(1):null;I(e,t),document.addEventListener("click",_,{passive:!1}),window.addEventListener("popstate",P);const n=()=>{const o=document.querySelector(".fullscreen-section.visible");if(!o||getComputedStyle(o).display==="none"||getComputedStyle(o).visibility==="hidden"||o.style.opacity==="0"){const s=a(location.pathname);requestAnimationFrame(()=>d(s,{replace:!0}))}};window.addEventListener("pageshow",()=>{n(),setTimeout(n,60)}),document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&n()})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",v):v()})();
