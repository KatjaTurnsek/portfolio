(function(){var w,g;typeof window<"u"&&(window.__routerActive=!0);const v="is-active",r=(((g=(w=import.meta)==null?void 0:w.env)==null?void 0:g.BASE_URL)||"/").replace(/\/$/,""),a={"/":"home","/work":"work","/about":"about","/contact":"contact"},d=Object.fromEntries(Object.entries(a).map(([e,t])=>[t,e])),S=(e,t=document)=>Array.from(t.querySelectorAll(e)),A=()=>S(".fullscreen-section");function s(e){let t=e.startsWith(r)?e.slice(r.length):e;return t.startsWith("/")||(t="/"+t),t.length>1&&t.endsWith("/")&&(t=t.slice(0,-1)),t}function u(e){if(e in a)return a[e];if(e.startsWith("/work/")){const t=e.split("/").filter(Boolean),n=t[1],o=t[2];if(!n)return null;const i="case-"+n+(o?"-"+o:"");if(document.getElementById(i))return i}return null}function l(e){if(e in d)return d[e];if(e.startsWith("case-")){const t=e.slice(5),n=t.indexOf("-");if(n===-1)return"/work/"+t;const o=t.slice(0,n),i=t.slice(n+1);return"/work/"+o+"/"+i}return"/"}function h(e){A().forEach(t=>{const n=t.id===e;t.classList.toggle("visible",n),t.style.display=n?"block":"none",t.style.visibility=n?"visible":"hidden",t.style.pointerEvents=n?"auto":"none",t.style.transform="none",t.style.opacity=n?"1":"0"})}function m(e){if(!e)return;const t=e.getAttribute("data-title");t&&(document.title=t);const n=e.getAttribute("data-description"),o=document.querySelector('meta[name="description"]');n&&o&&o.setAttribute("content",n);const i=document.querySelector('link[rel="canonical"]');i&&i.setAttribute("href",location.origin+r+l(e.id))}function p(e){const t=l(e)||s(location.pathname);document.querySelectorAll("nav a").forEach(n=>{let o=!1;try{const i=new URL(n.getAttribute("href")||"",location.origin);o=s(i.pathname)===t}catch{}n.classList.toggle(v,o)})}function E(e,t){const o=(t&&document.getElementById(t)?t:null)||u(e)||a["/"],i=document.getElementById(o);i&&(h(o),m(i),p(o),window.__currentSectionId=o,history.replaceState({path:l(o)},"",r+l(o)),typeof window.revealSection=="function"&&window.revealSection(o))}function f(e,{replace:t=!1}={}){const n=u(e)||a["/"];h(n);const o=document.getElementById(n);if(o){window.scrollTo({top:0,behavior:"auto"});const c=o.querySelector("h1, h2, h3");c&&!c.hasAttribute("tabindex")&&c.setAttribute("tabindex","-1"),c&&setTimeout(()=>{var b;return(b=c.focus)==null?void 0:b.call(c)},50),m(o),p(n),typeof window.revealSection=="function"&&window.revealSection(n)}const i={path:e};t?history.replaceState(i,"",r+e):history.pushState(i,"",r+e)}function L(e){const t=location.href,n=()=>window.removeEventListener("popstate",n);window.addEventListener("popstate",n,{once:!0}),history.back(),setTimeout(()=>{if(location.href===t){const o=new URL(e,location.origin),i=s(o.pathname);u(i)?f(i):location.assign(e)}},250)}function k(e){const t=e.target instanceof Element?e.target.closest("a,button"):null;if(!t)return;if(t.hasAttribute("data-back")){e.preventDefault(),L(t instanceof HTMLAnchorElement?t.href:"/");return}if(!(t instanceof HTMLAnchorElement)||t.target&&t.target!=="_self"||e.button!==0||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey)return;let n;try{n=new URL(t.href,location.origin)}catch{return}if(n.origin!==location.origin)return;const o=s(n.pathname),i=n.hash?n.hash.slice(1):null;if(i&&document.getElementById(i)){e.preventDefault(),f(l(i));return}u(o)&&(e.preventDefault(),f(o))}function I(){const e=s(location.pathname);f(e,{replace:!0})}function y(){const e=s(location.pathname),t=location.hash?location.hash.slice(1):null;E(e,t),document.addEventListener("click",k,{passive:!1}),window.addEventListener("popstate",I)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",y):y()})();
