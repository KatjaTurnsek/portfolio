/* ==========================================================================
   variables.css — Resets, Tokens, Defaults, Global Typography
   ========================================================================== */

/* -----------------------------
   Core palette tokens
----------------------------- */
:root {
  --grey: #d3d9d4;
  --dark: #0d0d0d;
  --teal: #3b8a7f;
  --teal-light: #7bb8ab;
  --teal-transparent: rgba(0, 128, 128, 0.25);
  --yellow: #e8c86e;
  --yellow-light: #f1e9a5;

  /* -----------------------------
     Semantic UI defaults (LIGHT baseline)
  ----------------------------- */
  --bg-color: var(--grey);
  --text-color: var(--dark);

  /* Headings (keep legacy names for compatibility) */
  --h1-color: var(--text-color);
  --h2-color: var(--text-color);
  --h3-color: var(--text-color);

  /* Footer */
  --footer-bg: var(--dark);
  --footer-text-color: var(--grey);

  /* Navigation + controls */
  --menu-color: var(--text-color);
  --menu-hover-color: var(--teal);
  --menu-border-color: var(--text-color);

  /* NAV TYPOGRAPHY */
  --nav-font: 'Montserrat', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  --nav-font-weight: 400;
  --nav-font-size: 90px;

  /* Typography families — keep your design choice (H1 sans, body serif) */
  --font-sans: 'Montserrat', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  --font-serif: 'Playfair Display', Georgia, 'Times New Roman', serif;

  --h1-font: var(--font-sans);
  --body-font: var(--font-serif);

  /* Typography scale — FLUID with sensible caps */
  --h1-font-size: 90px;
  --h1-font-weight: 600;
  --h1-line-height: 100px;

  --h2-font-size: clamp(22px, 4.8vw, 40px);
  --h2-font-weight: 600;
  --h2-line-height: 1.15;

  --h3-font-size: clamp(18px, 3.6vw, 28px);
  --h3-font-weight: 600;
  --h3-line-height: 1.2;

  --h4-font-size: clamp(16px, 3vw, 22px);
  --h4-color: var(--yellow-light);
  --h4-font-weight: 600;
  --h4-line-height: 1.25;

  --p-font-size: 20px;
  --p-font-weight: 400;
  --p-line-height: 32px;

  /* Links */
  --link-color: var(--teal);
  --link-hover-color: var(--teal-light);

  /* Graphics (waves/blobs/loader) */
  --wave-color-light: var(--dark);
  --wave-color-dark: var(--grey);
  --blob-color: #efe8ad;
  --wave-color-1: rgba(123, 184, 171, 0.7);
  --wave-color-2: rgba(123, 184, 171, 0.4);

  /* Loader consumes theme automatically */
  --loader-bg: var(--bg-color);
  --loader-fg: var(--text-color);

  /* States */
  --success-color: #44b78b;
  --error-color: #e15b64;

  /* Let UA adapt controls & scrollbars */
  color-scheme: light dark;

  /* Pills */
  --pill-border: rgba(0, 0, 0, 0.2);
  --pill-bg: rgba(255, 255, 255, 0.5);
  --pill-active-bg: rgba(123, 184, 171, 0.2);
  --pill-active-border: rgba(123, 184, 171, 0.5);
}

/* Headings */
h1,
h2,
h3,
h4 {
  font-family: var(--h1-font);
  text-align: left;
  transition: color 0.3s ease;
}
h1 {
  font-size: var(--h1-font-size);
  color: var(--h1-color);
  font-weight: var(--h1-font-weight);
  line-height: var(--h1-line-height);
  margin-bottom: 60px;
}
.h1-narrow {
  max-width: 13ch;
  text-wrap: balance;
  margin-inline: 0;
  text-align: left;
}
h2 {
  font-size: var(--h2-font-size);
  color: var(--h2-color);
  font-weight: var(--h2-font-weight);
  line-height: var(--h2-line-height);
}
h3 {
  font-size: var(--h3-font-size);
  color: var(--h3-color);
  font-weight: var(--h3-font-weight);
  line-height: var(--h3-line-height);
  margin: 45px 0;
  text-transform: uppercase;
}
h4 {
  font-size: var(--h4-font-size);
  color: var(--h4-color);
  font-weight: var(--h4-font-weight);
  line-height: var(--h4-line-height);
  margin: 45px 0;
}

/* Uniform heading sizes inside sectioning elements (Chrome deprecation fix) */
:where(article, aside, nav, section) h1,
:where(article, aside, nav, section) :where(article, aside, nav, section) h1,
:where(article, aside, nav, section)
  :where(article, aside, nav, section)
  :where(article, aside, nav, section)
  h1 {
  font-size: var(--h1-font-size);
  line-height: var(--h1-line-height);
}
:where(article, aside, nav, section) h2 {
  font-size: var(--h2-font-size);
  line-height: var(--h2-line-height);
}
:where(article, aside, nav, section) h3 {
  font-size: var(--h3-font-size);
  line-height: var(--h3-line-height);
}
:where(article, aside, nav, section) h4 {
  font-size: var(--h4-font-size);
  line-height: var(--h4-line-height);
}

/* Paragraphs & links */
p {
  font-family: var(--body-font);
  font-size: var(--p-font-size);
  line-height: var(--p-line-height);
  font-weight: var(--p-font-weight);
  font-style: normal;
  margin-bottom: 1em;
  color: var(--text-color);
}
p.work-caption {
  font-weight: 400;
}

/* Ensure common containers don’t push bold down */
.fullscreen-section,
.rows,
.row,
.tech-demo-wrapper,
.work-item-wrapper {
  font-weight: 400;
}

/* Explicit bold/italic only where intended */
strong,
b {
  font-weight: 700;
}
em,
i {
  font-style: italic;
}

a {
  color: var(--link-color);
  text-decoration: none;
  transition: color 0.4s ease-in;
}
a:hover,
a:focus {
  color: var(--link-hover-color);
  text-decoration: underline;
  transition: color 0.4s ease-out;
}

/* SplitType helpers */
h1 span.line,
h2 span.line,
h3 span.line,
h4 span.line,
p span.line {
  display: block;
  overflow: hidden;
}
h1 span.word {
  display: inline-block;
  overflow: visible;
}

/* ---------------------------------
   Mobile caps via TOKEN overrides
---------------------------------- */
@media (max-width: 850px) {
  :root {
    /* sizes (yours) */
    --h1-font-size: clamp(44px, 11vw, 72px);
    --h2-font-size: clamp(34px, 8vw, 50px);
    --h3-font-size: clamp(28px, 7.2vw, 40px);
    --h4-font-size: clamp(22px, 5.8vw, 32px);

    /* line-heights tuned for small screens */
    --h1-line-height: 1.1;
    --h2-line-height: 1.2;
    --h3-line-height: 1.25;
    --h4-line-height: 1.3;
  }

  .h1-narrow {
    text-align: center;
    max-width: 16ch;
    margin-left: auto;
    margin-right: auto;
  }
}
